(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-students-add"],{"187a":function(e,t,r){"use strict";r.r(t);var a=r("6cc0"),n=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a},"39a6":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var a={uniForms:r("63a6").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"uni-container"},[r("uni-forms",{ref:"form",attrs:{value:e.formData,validateTrigger:"bind"}},[r("v-uni-view",{staticClass:"uni-button-group"},[r("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")]),r("v-uni-navigator",{staticStyle:{"margin-left":"15px"},attrs:{"open-type":"navigateBack"}},[r("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"}},[e._v("返回")])],1)],1)],1)],1)},i=[]},"6cc0":function(e,t,r){"use strict";(function(e){var a=r("4ea4");r("caad"),r("d3b7"),r("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("5530")),i=r("c919"),u=e.database(),s=(u.command,"students");function o(e){var t={};for(var r in i.validator)e.includes(r)&&(t[r]=i.validator[r]);return t}var l={data:function(){return{formData:{},formOptions:{},rules:(0,n.default)({},o([]))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var e=this;uni.showLoading({mask:!0}),this.$refs.form.submit().then((function(t){e.submitForm(t)})).catch((function(e){uni.hideLoading()}))},submitForm:function(e){var t=this;u.collection(s).add(e).then((function(e){uni.showToast({title:"新增成功"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(e){uni.showModal({content:e.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};t.default=l}).call(this,r("a9ff")["default"])},c919:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumConverter=t.validator=void 0;var a={name:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"姓名"},kemu:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"科目"},year:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"int"}],label:"年份"},month_exam:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"月份"},month:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"int"}],label:"月份"},day_exam:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"日期"},day:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"int"}],label:"日期"},company:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"驾校"},coach:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"教练"},card:{rules:[{format:"string"},{pattern:"^\\+?[0-9-]{15,18}$"}],label:"身份证"},mobile:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"},{pattern:"^\\+?[0-9-]{11}$"}],label:"手机号码"}};t.validator=a;var n={};t.enumConverter=n},e668:function(e,t,r){"use strict";r.r(t);var a=r("39a6"),n=r("187a");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var u,s=r("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);t["default"]=o.exports}}]);