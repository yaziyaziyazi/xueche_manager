(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{2361:function(a,i,t){"use strict";var n=t("4253"),e=t.n(n);e.a},4253:function(a,i,t){var n=t("7fbc");"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var e=t("4f06").default;e("f187e2a0",n,!0,{sourceMap:!1,shadowMode:!1})},5892:function(a,i,t){"use strict";(function(a){var n=t("4ea4");t("d3b7"),t("ac1f"),t("466d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(t("5530")),o=t("2f62"),s=n(t("3930")),r=t("7357"),c={deviceId:(0,r.getDeviceUUID)(),scene:"login"},d={data:function(){return(0,e.default)((0,e.default)({},s.default.navBar),{},{indexPage:s.default.index.url,showPassword:!0,loading:!1,formData:{username:"",password:"",captcha:""},city_ip:"",captchaLoading:!1,needCaptcha:!1,captchaBase64:"",rules:{username:{rules:[{required:!0,errorMessage:"请输入账户"},{minLength:1,maxLength:30,errorMessage:"账户长度在{minLength}到{maxLength}个字符"}]},password:{rules:[{required:!0,errorMessage:"请输入正确的密码"},{minLength:6,errorMessage:"密码长度大于{minLength}个字符"}]},captcha:{rules:[{required:!0,errorMessage:"请输入验证码"}]}}})},mounted:function(){this.focus();var a=this;uni.getStorage({key:"lastUsername",success:function(i){a.formData.username=i.data}})},onLoad:function(){},created:function(){this.city_set()},methods:(0,e.default)((0,e.default)((0,e.default)({test:function(){a.log(this.value1,this.value2,this.value3)}},(0,o.mapActions)({init:"app/init"})),(0,o.mapMutations)({setToken:function(a,i){a("user/SET_TOKEN",i)}})),{},{submit:function(i){var t=this;if(!this.loading){var n=i.detail,o=n.errors,s=n.value;o||(this.$refs.usernameInput.$refs.input.blur(),this.$refs.passwordInput.$refs.input.blur(),this.$refs.captchaInput&&this.$refs.captchaInput.$refs.input.blur(),this.loading=!0,this.$request("login",(0,e.default)((0,e.default)({},s),{},{captchaOptions:c}),{functionName:"uni-id-cf",showModal:!1}).then((function(a){return t.setToken({token:a.token,tokenExpired:a.tokenExpired}),uni.setStorage({key:"last_login_ip",data:a.userInfo.last_login_ip}),t.init().then((function(){uni.showToast({title:"登录成功",icon:"none"}),uni.setStorage({key:"lastUsername",data:s.username}),uni.redirectTo({url:t.indexPage})}))})).catch((function(i){a.log(4444,i),i.needCaptcha&&(t.formData.captcha="",t.createCaptcha(),t.needCaptcha=!0);var n=t;uni.showModal({content:i.message||"请求服务失败",showCancel:!1,success:function(){10101===i.code&&n.$refs.usernameInput&&n.$refs.usernameInput.$refs.input.focus(),10102===i.code&&n.$refs.passwordInput&&n.$refs.passwordInput.$refs.input.focus(),10002===i.code&&n.$refs.captchaInput&&n.$refs.captchaInput.$refs.input.focus()}})})).finally((function(a){t.loading=!1})))}},createCaptcha:function(){var a=this;this.captchaLoading=!0,this.$request("createCaptcha",c,{functionName:"uni-id-cf"}).then((function(i){0===i.code&&(a.captchaBase64=i.captchaBase64)})).catch((function(a){})).finally((function(i){a.captchaLoading=!1}))},confirmForm:function(a,i){this.submitForm()},city_set:function(){this.$jsonp("https://apis.map.qq.com/ws/location/v1/ip",{key:"GWJBZ-NUWCI-HOUGB-5GIS3-TV7LJ-7EBH4",output:"jsonp"}).then((function(i){try{uni.setStorageSync("city",i.result.ad_info.city.match(/(\S*)市/)[1])}catch(t){a.log(t)}})).catch((function(i){a.log(i)}))},submitForm:function(){this.$refs.form.submit()},initAdmin:function(){uni.redirectTo({url:"/pages/demo/init/init"})},changePassword:function(){this.showPassword=!this.showPassword},focus:function(){this.$refs.usernameInput.$refs.input.focus()}})};i.default=d}).call(this,t("5a52")["default"])},"628f":function(a,i,t){"use strict";t.d(i,"b",(function(){return e})),t.d(i,"c",(function(){return o})),t.d(i,"a",(function(){return n}));var n={uniForms:t("63a6").default,uniFormsItem:t("08f9").default},e=function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("v-uni-view",{staticClass:"login-box"},[t("v-uni-view",{staticClass:"uni-header no-padding"},[t("v-uni-view",{staticClass:"uni-title",staticStyle:{"font-size":"20px","font-weight":"900"}},[a._v("系统登录")])],1),t("v-uni-view",{staticClass:"uni-container"},[t("uni-forms",{ref:"form",attrs:{rules:a.rules},on:{submit:function(i){arguments[0]=i=a.$handleEvent(i),a.submit.apply(void 0,arguments)}},model:{value:a.formData,callback:function(i){a.formData=i},expression:"formData"}},[t("uni-forms-item",{attrs:{name:"username",label:"账号","label-width":"0"}},[t("v-uni-input",{ref:"usernameInput",staticClass:"uni-input-border",attrs:{type:"text",placeholder:"账户"},on:{confirm:function(i){arguments[0]=i=a.$handleEvent(i),a.submitForm.apply(void 0,arguments)}},model:{value:a.formData.username,callback:function(i){a.$set(a.formData,"username",i)},expression:"formData.username"}})],1),t("uni-forms-item",{staticClass:"icon-container",attrs:{name:"password",label:"密码","label-width":"0"}},[t("v-uni-input",{ref:"passwordInput",staticClass:"uni-input-border",attrs:{password:a.showPassword,placeholder:"密码"},on:{confirm:function(i){arguments[0]=i=a.$handleEvent(i),a.submitForm.apply(void 0,arguments)}},model:{value:a.formData.password,callback:function(i){a.$set(a.formData,"password",i)},expression:"formData.password"}}),t("v-uni-text",{staticClass:"uni-icon-password-eye pointer",class:[a.showPassword?"":"uni-eye-active"],on:{click:function(i){arguments[0]=i=a.$handleEvent(i),a.changePassword.apply(void 0,arguments)}}},[a._v("")])],1),a.needCaptcha?t("uni-forms-item",{staticClass:"icon-container",attrs:{"left-icon":"uni-icons-person-filled",name:"captcha",labelWidth:"35"}},[t("v-uni-input",{ref:"captchaInput",staticClass:"uni-input-border",attrs:{type:"text",placeholder:"验证码"},on:{confirm:function(i){arguments[0]=i=a.$handleEvent(i),a.submitForm.apply(void 0,arguments)}},model:{value:a.formData.captcha,callback:function(i){a.$set(a.formData,"captcha",i)},expression:"formData.captcha"}}),t("v-uni-view",{staticClass:"admin-captcha-img pointer",on:{click:function(i){arguments[0]=i=a.$handleEvent(i),a.createCaptcha.apply(void 0,arguments)}}},[a.captchaLoading?t("i",{staticClass:"uni-loading"}):t("img",{attrs:{src:a.captchaBase64,width:"100%",height:"100%"}})])],1):a._e(),t("v-uni-view",{staticClass:"uni-button-group"},[t("v-uni-button",{staticClass:"uni-button uni-button-full",attrs:{type:"primary",loading:a.loading,disabled:a.loading},on:{click:function(i){arguments[0]=i=a.$handleEvent(i),a.submitForm.apply(void 0,arguments)}}},[a._v("登录")])],1)],1)],1)],1)},o=[]},"64e4":function(a,i,t){"use strict";t.r(i);var n=t("628f"),e=t("aa94");for(var o in e)"default"!==o&&function(a){t.d(i,a,(function(){return e[a]}))}(o);t("2361");var s,r=t("f0c5"),c=Object(r["a"])(e["default"],n["b"],n["c"],!1,null,"1abdaf23",null,!1,n["a"],s);i["default"]=c.exports},"7fbc":function(a,i,t){var n=t("24fb"),e=t("1de5"),o=t("af0d");i=n(!1);var s=e(o);i.push([a.i,"[data-v-1abdaf23] .uni-input-placeholder{color:#333\n\t/* font-size: larger; */}[data-v-1abdaf23] .uni-input-input{color:#ebeef5}[data-v-1abdaf23] .label-text{font-size:18px!important;font-weight:900!important;color:#2c405a!important}.uni-header[data-v-1abdaf23]{height:50px;display:flex;align-items:center;justify-content:center}uni-page-body[data-v-1abdaf23]{background-image:url("+s+');width:100%;height:100%;background-repeat:no-repeat; /*不平埔*/background-position:50% 50% ; /*居中*/background-size:100%; /*背景图片大小*/display:flex;justify-content:center;background-color:#fff}.login-box[data-v-1abdaf23]{position:relative;max-width:350px;flex:1;padding:140px 35px 0;margin:0 auto;overflow:hidden}.underline[data-v-1abdaf23]:hover{text-decoration:underline}.uni-tips[data-v-1abdaf23]{display:flex;justify-content:flex-end;margin-top:15px}.uni-tips-text[data-v-1abdaf23]{cursor:pointer;text-decoration:underline;font-size:13px;color:#007aff;opacity:.8}.no-padding[data-v-1abdaf23]{padding:0}.admin-logo[data-v-1abdaf23]{display:flex;justify-content:center;margin-bottom:30px}.admin-logo uni-image[data-v-1abdaf23]{height:40px}.admin-captcha-img[data-v-1abdaf23]{position:absolute;top:1px;right:0;display:flex;justify-content:center;align-items:center;background-color:#fff;width:100px;height:33px;border:1px #e5e5e5 solid;border-radius:0 5px 5px 0;background-color:#f9f9f9}.admin-captcha-img img[data-v-1abdaf23]{border-radius:5px}.uni-loading[data-v-1abdaf23]:before{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=") no-repeat}.uni-loading[data-v-1abdaf23]{margin:0 auto;width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:uni-loading-data-v-1abdaf23 1s steps(12) infinite;animation:uni-loading-data-v-1abdaf23 1s steps(12) infinite;background-size:100%}@-webkit-keyframes uni-loading-data-v-1abdaf23{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes uni-loading-data-v-1abdaf23{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}body.?%PAGE?%[data-v-1abdaf23]{background-image:url('+s+");background-repeat:no-repeat;background-position:50% 50% ;background-size:100%;background-color:#fff}",""]),a.exports=i},aa94:function(a,i,t){"use strict";t.r(i);var n=t("5892"),e=t.n(n);for(var o in n)"default"!==o&&function(a){t.d(i,a,(function(){return n[a]}))}(o);i["default"]=e.a},af0d:function(a,i){a.exports="data:image/png;base64,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"}}]);