(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-students-edit"],{"093c":function(e,t,a){"use strict";a.r(t);var r=a("d8a9"),n=a("1f54");for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);var o,u=a("f0c5"),s=Object(u["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=s.exports},"1f54":function(e,t,a){"use strict";a.r(t);var r=a("651d"),n=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);t["default"]=n.a},"651d":function(e,t,a){"use strict";(function(e){var r=a("4ea4");a("caad"),a("d3b7"),a("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("5530")),i=a("c919"),o=e.database(),u=(o.command,"students");function s(e){var t={};for(var a in i.validator)e.includes(a)&&(t[a]=i.validator[a]);return t}var l={data:function(){return{formData:{},formOptions:{},rules:(0,n.default)({},s([]))}},onLoad:function(e){var t=e.id;this.formDataId=t,this.getDetail(t)},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var e=this;uni.showLoading({mask:!0}),this.$refs.form.submit().then((function(t){e.submitForm(t)})).catch((function(e){uni.hideLoading()}))},submitForm:function(e){var t=this;o.collection(u).doc(this.formDataId).update(e).then((function(e){uni.showToast({title:"修改成功"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(e){uni.showModal({content:e.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(e){var t=this;uni.showLoading({mask:!0}),o.collection(u).doc(e).get().then((function(e){var a=e.result.data[0];a&&(t.formData=a)})).catch((function(e){uni.showModal({content:e.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};t.default=l}).call(this,a("a9ff")["default"])},c919:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumConverter=t.validator=void 0;var r={name:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"姓名"},kemu:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"科目"},year:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"int"}],label:"年份"},month_exam:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"月份"},month:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"int"}],label:"月份"},day_exam:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"日期"},day:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"int"}],label:"日期"},company:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"驾校"},coach:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"}],label:"教练"},card:{rules:[{format:"string"},{pattern:"^\\+?[0-9-]{15,18}$"}],label:"身份证"},mobile:{rules:[{required:!0,errorMessage:"{label}必填"},{format:"string"},{pattern:"^\\+?[0-9-]{11}$"}],label:"手机号码"}};t.validator=r;var n={};t.enumConverter=n},d8a9:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var r={uniForms:a("63a6").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-container"},[a("uni-forms",{ref:"form",attrs:{value:e.formData,validateTrigger:"bind"}},[a("v-uni-view",{staticClass:"uni-button-group"},[a("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")]),a("v-uni-navigator",{staticStyle:{"margin-left":"15px"},attrs:{"open-type":"navigateBack"}},[a("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"}},[e._v("返回")])],1)],1)],1)],1)},i=[]}}]);